{"version":3,"sources":["js/storage.js","js/model.js","js/Item.js","js/view.js","js/index.js"],"names":["saveToStore","shoppingList","completeList","window","localStorage","setItem","JSON","stringify","getFromStore","getActive","getItem","getCompleted","parse","completedList","addToShoppingList","item","itemId","parseInt","Math","random","Date","getTime","push","id","priority","setPriority","map","removeItem","confirm","filter","getShoppingList","addToCompletedList","find","getCompletedList","clearCompleted","bootUp","active","completed","Item","title","shoppingListDiv","document","querySelector","completedDiv","renderShoppingList","domNodes","innerHTML","join","renderCompletedList","itemInput","clearCompletedBtn","addEventListener","evt","key","value","target","parentElement","classList","contains","getAttribute","getId","dataTransfer","setData","getData","preventDefault"],"mappings":";;AIAA;AAQA;AAEA,MAAMiD,SAAS,GAAGR,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;AACnE,MAAMF,eAAe,GAAGC,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AFXhE,AEYA,AHZA,ADAO,AGAP,MCYMC,AJZO3C,WAAW,CIYN,EJZS,CIYNyC,QAAQ,CAACC,AJZO,aIYM,CAAC,YAAY,CAAC;AFXzD,AEYA,AHXA,AEDA,EHDuCzC,ECEnCA,EGWEiD,QJb6C,ECEnC,GAAG,EAAE,EGWE,GAAGT,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC;AFXpE,AEaAO,AHZA,AEF4D,EHDP/C,ECGjDW,KGYK,CAACsC,OHZO,GAAG,EAAE,IGYI,CAAC,OAAO,EAAE,UAAUC,GAAG,EAAE;AFZnD,ADEO,ADL2D,AGGlE,CHHmE,CIgBjE,CJhBmE,GIgB/DA,AHXOtC,AEFP0B,GCaG,CAACa,GAAG,KAAK,GDbG,EFES,CEFNZ,CCaC,CHXS1B,CGWP,GHXW,EEFN,CAAC2B,CFEU,YEFG,CAAC,gBAAgB,CAAC;ADChE,ACAA,EFEE,ADLAvC,EIgBE,EDbEwC,EFEE3B,ADLA,CAACZ,KCKK,GAAI,CEFA,EFEEa,CDLC,AGGAwB,CHHCpC,MCKM,CACxBa,ADNyB,AGGA,CHFzB,AGE0BwB,GFGtB,CAACvB,MAAM,EAAE,CEH0B,CAAC,CFGxB,KDLI,EACpBb,ECIyB,CACzB,CDLI,AGCgD,CHD/CC,AGCgD,EFIlD,IAAIa,GDLO,CCKH,ADLInB,ECKF,CAACoB,OAAO,EAAG,ADLG,CAAC,CCKH,ADJ1B;ECMDpB,ADJAE,EIYE,IAAAW,AJZI,CAACV,KCIK,CAACkB,IAAI,CAAC,CDJC,CAACjB,OAAO,CACzB,EIWiB,EAAC,IAAI,CAACiD,KAAK,CAAC,CAAC,CAAC,MJXR,EACvBhD,IAAI,CAACC,SAAS,CAACL,YAAY,CAAC,CAC7B;AEHH,AFIA,AGJA,CHIC,GISG,AHRAqB,ECLEe,ADKA,EAAEtB,ECLE,GAAG,CAACuB,ADKA,KCLK,EAAEf,QAAQ,GAAG,QAAQ,EAAED,EAAE,KAAK;AFI/C,AGHK,EDAL,EEaE,AHRAR,EELS6B,ECaTA,AHRI,CCLE,eCAqB,GAAG,EDALpB,GEaP,CDbkB,ECahB,EFbc,cAAaD,EAAG;AACtD,AFIO,EGJL,ECaE,AHRAC,EDDShB,EISL,ADbAqC,CCaCS,GHRG,EGQE,AHRA,EELE,CCaC,CJTQ,CISN,ADbA,EHIS,CEJNf,CCAHT,IDAS,MFIY,YGJN,GAAE,CAACJ,GAAG,CAAC,CAAC;ADC1C,EEaE,AHRA,ADDA,CCCC,CAAC,AENwCX,IHKpCN,AGLwC,SHK/B,GAAGN,MAAM,CAACC,YAAY,CAACM,OAAO,CAAC,oBAAoB,CAAC;AEHrE,AEaA,CAAC,CAAC,AHPA,ADFA,EGNgDc,EFQhDxB,EDFMW,IGNkD,QHMtC,GAAGR,GCEV,EAAC,CDFe,CAACC,YAAY,CAACM,OAAO,CAAC,uBAAuB,CAAC;AEH3E,EFKE,ECAcT,AER4CsB,KHQnD,OCAmB;ACJ5B,AEaA,EDjB+D,CAAC,CFQlCrB,ADC1BO,IGTiE,KHSxD,EAAEA,SAAS,GAAGH,IAAI,CAACM,KAAK,CAACH,SAAS,CAAC,GAAG,EAAE;AEJrD,AEaA+B,EHV2C,CAAC,CAAC,ADEzC7B,AGTA,OAAO,ICiBI,ADjBJ2B,CCiBKa,AJRA,EAAExC,UGTH,EHSe,AGTdI,ECiBgB,CAAC,AJRAT,CGTb,EAAEkB,CHSe,CAACZ,EIQE,EAAE,CJRC,CAACD,AGTd,EAAEY,EAAE,CAAC,GCiBiB6B,GAAG,CJRC,CIQC,AJRA,GAAG;AEJ5D,ADGA,CAAC,CGUC,AJRA,AGTA,CHSC,AGTA,CAAC;ADKJ,ADEE,ADGF,CAAC,CIQC,ADhBAZ,ICgBIY,CFbC,EEaE,CAACG,MAAM,CAACC,ADhBA,CAACV,SAAS,GCgBG,ADhBAD,CCgBCY,ODhBO,CAACV,CCgBC,CAACW,EDhBE,CAAC,EAAE,CAAC,CAAC,CCgBC,ADhBA,CCgBC,kBAAkB,CAAC,EAAE;AFZvE,ADGO,ADCL,AGPF,CDGC,ACHA,GCgBG,EHVSjC,WAAW,GAAG,CAACT,MAAM,EAAEQ,QAAQ,KAAK;ACH/C,ACHA,EFOAvB,EGUE,MAAMuB,IHVI,CCFCc,EDEErC,CGUC,CFZC,EACnB,AEWqBmD,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","file":"js.00a46daa.js","sourceRoot":"../src","sourcesContent":["export const saveToStore = function ({ shoppingList, completeList }) {\n  window.localStorage.setItem(\n    'shoppingApp_active',\n    JSON.stringify(shoppingList)\n  );\n\n  window.localStorage.setItem(\n    'shoppingApp_completed',\n    JSON.stringify(completeList)\n  );\n};\n\nexport const getFromStore = function () {\n  const getActive = window.localStorage.getItem('shoppingApp_active');\n  const getCompleted = window.localStorage.getItem('shoppingApp_completed');\n\n  return {\n    getActive: getActive ? JSON.parse(getActive) : [],\n    getCompleted: getCompleted ? JSON.parse(getCompleted) : [],\n  };\n};\n","import { saveToStore, getFromStore } from './storage';\n\nlet shoppingList = [];\nlet completedList = [];\n\nexport const addToShoppingList = (item) => {\n  const itemId = `${parseInt(\n    Math.random() * 100000000\n  )}-${new Date().getTime()}`;\n\n  shoppingList.push({\n    id: itemId,\n    item,\n    priority: 'normal',\n  });\n\n  saveToStore({ shoppingList, completeList });\n};\n\nexport const setPriority = (itemId, priority) => {\n  shoppingList = shoppingList.map((item) => {\n    if (item.id === itemId) {\n      return {\n        ...item,\n        priority,\n      };\n    }\n    saveToStore({ shoppingList, completeList });\n\n    return item;\n  });\n};\n\nexport const removeItem = (itemId) => {\n  const confirm = window.confirm('Do you really want to delete this item?');\n  if (confirm) {\n    shoppingList = shoppingList.filter(({ id }) => id !== itemId);\n    return true;\n  }\n  saveToStore({ shoppingList, completeList });\n  return false;\n};\n\nexport const getShoppingList = () => shoppingList;\n\nexport const addToCompletedList = (itemId) => {\n  const getItem = shoppingList.find(({ id }) => id === itemId);\n  shoppingList = shoppingList.filter(({ id }) => id !== itemId);\n  completedList = [getItem, ...completedList];\n  saveToStore({ shoppingList, completeList });\n};\n\nexport const getCompletedList = () => completedList;\n\nexport const clearCompleted = () => {\n  completedList = [];\n  saveToStore({ shoppingList, completeList });\n};\n\nexport const bootUp = () => {\n  const { active, completed } = getFromStore();\n  shoppingList = active;\n  completedList = completed;\n};\n","/**\n * define a component to be plugged in the HTML file.\n * As a convention, the name of component files should begin with an uppercase\n * character.\n */\n\nconst Item = (title, priority = 'normal', id) => {\n  return `<div class=\"item ${priority}\" data-id=\"${id}\" draggable=\"true\">\n  <div class=\"task\">${title}</div>\n  <div class=\"priority-control\">\n    <span class=\"high\"></span>\n    <span class=\"normal\"></span>\n    <span class=\"low\"></span>\n  </div>\n  <div class=\"remove-btn\">REMOVE</div>\n</div>`;\n};\n\nexport default Item;\n//export default means that 'Item' is the only function being exported from this file\n","import Item from './Item';\nimport { getShoppingList, getCompletedList } from './model';\n\nconst shoppingListDiv = document.querySelector('.shopping-list');\nconst completedDiv = document.querySelector('.completed');\n\n// use 'map' to convert ea ch item in the shopping list to the HTML markup\nexport const renderShoppingList = () => {\n  const domNodes = getShoppingList().map(({ item, priority, id }) => {\n    return Item(item, priority, id);\n  });\n\n  shoppingListDiv.innerHTML = domNodes.join(''); //join the list of HTML all together\n};\n\nexport const renderCompletedList = () => {\n  const domNodes = getCompletedList().map(({ item, priority, id }) => {\n    return Item(item, priority, id);\n  });\n\n  completedDiv.innerHTML = domNodes.join('');\n};\n","import {\n  addToShoppingList,\n  setPriority,\n  removeItem,\n  addToCompletedList,\n  clearCompleted,\n  bootUp,\n} from './model';\nimport { renderShoppingList, renderCompletedList } from './view';\n\nconst itemInput = document.querySelector(\"input[name='itemInput']\");\nconst shoppingListDiv = document.querySelector('.shopping-list');\nconst completedDiv = document.querySelector('.completed');\nconst clearCompletedBtn = document.querySelector('#clear-completed');\n\nitemInput.addEventListener('keyup', function (evt) {\n  if (evt.key === 'Enter') {\n    // Add to shopping list\n    addToShoppingList(this.value); //can also do 'evt.target.value' -- refers to the input field\n    // Update the view\n    renderShoppingList();\n    this.value = '';\n  }\n});\n\n// Take advantage of event bubbling\nshoppingListDiv.addEventListener('click', function (evt) {\n  // Priority\n  if (evt.target.parentElement.classList.contains('priority-control')) {\n    //if the user is trying to set the priority of the list\n    const priority = evt.target.classList.value;\n    const itemId =\n      evt.target.parentElement.parentElement.getAttribute('data-id');\n\n    // Set priority\n    setPriority(itemId, priority);\n    // Render View\n    renderShoppingList();\n  }\n\n  // Remove\n  if (evt.target.classList.contains('remove-btn')) {\n    const itemId = evt.target.parentElement.getAttribute('data-id');\n    // If the item is removed, update the view\n    if (removeItem(itemId)) {\n      renderShoppingList();\n    }\n  }\n});\n\nshoppingListDiv.addEventListener('dragstart', function (evt) {\n  if (evt.target.classList.contains('item')) {\n    const getId = evt.target.getAttribute('data-id');\n    evt.dataTransfer.setData('text/plain', getId);\n  }\n});\n\ncompletedDiv.addEventListener('drop', function (evt) {\n  const itemId = evt.dataTransfer.getData('text/plain');\n\n  if (itemId) {\n    // Add to completed list\n    addToCompletedList(itemId);\n    // Update shopping list\n    renderShoppingList();\n    // Update completed tasks list\n    renderCompletedList();\n  }\n});\n\ncompletedDiv.addEventListener('dragover', function (evt) {\n  evt.preventDefault();\n});\n\nclearCompletedBtn.addEventListener('click', function (evt) {\n  evt.preventDefault();\n  clearCompleted();\n  renderCompletedList();\n});\n\n// will do this everytime the web page is reloaded\n() => {\n  bootUp;\n  renderShoppingList();\n  renderCompletedList();\n};\n"]}